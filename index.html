<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta http-equiv="X-UA-Compatible" content="ie=edge" />
		<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
		<link
			rel="stylesheet"
			href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
		/>
		<link
			rel="stylesheet"
			href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
			integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf"
			crossorigin="anonymous"
		/>
		<link
			href="https://fonts.googleapis.com/css?family=Open+Sans&display=swap"
			rel="stylesheet"
		/>
		<link rel="stylesheet" href="style.css" />
		<title>Work Day Scheduler</title>
	</head>

	<body>
		<header class="jumbotron">
			<h1 class="display-3">Work Day Scheduler</h1>
			<p class="lead">A simple calendar app for scheduling your work day</p>
			<p id="currentDay" class="lead">
				
			</p>
		</header>
		<div class="container">
				<h2>Time Table</h2>
				<table class="table">
					<thead>
						<tr>
							<th scope="col-4">Time</th>
							<th scope="col-8">Events</th>
							<th scope="col-4">Buttons</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>9am</td>
							<td> <input class="form-control" data-store="1" placeholder="Add Your Event Here"></input></td>
							<td><button class="editbtn btn btn-outline-dark">Save Changes</button></td>
						</tr>
						<tr>
							<td>10am</td>
							<td><input class="form-control" data-store="2" placeholder="Add Your Event Here"></td>
							<td><button class="editbtn btn btn-outline-dark">Save Changes</button></td>
						</tr>
						<tr>
							<td>11am</td>
							<td><input class="form-control" data-store="3" placeholder="Add Your Event Here"></td>
							<td><button class="editbtn btn btn-outline-dark">Save Changes</button></td>
						</tr>
						<tr>
							<td>12pm</td>
							<td><input class="form-control" data-store="4" placeholder="Add Your Event Here"></td>
							<td><button class="editbtn btn btn-outline-dark">Save Changes</button></td>
						</tr>
						<tr>
							<td>1pm</td>
							<td><input class="form-control" data-store="5" placeholder="Add Your Event Here"></td>
							<td><button class="editbtn btn btn-outline-dark">Save Changes</button></td>
						</tr>
						<tr>
							<td>2pm</td>
							<td><input class="form-control" data-store="6" placeholder="Add Your Event Here"></td>
							<td><button class="editbtn btn btn-outline-dark">Save Changes</button></td>
						</tr>
						<tr>
							<td>3pm</td>
							<td><input class="form-control" data-store="7" placeholder="Add Your Event Here"></td>
							<td><button class="editbtn btn btn-outline-dark">Save Changes</button></td>
						</tr>
						<tr>
							<td>4pm</td>
							<td><input class="form-control" data-store="8" placeholder="Add Your Event Here"></td>
							<td><button class="editbtn btn btn-outline-dark">Save Changes</button></td>
						</tr>
						<tr>
							<td>5pm</td>
							<td><input class="form-control" data-store="9" placeholder="Add Your Event Here"></td>
							<td><button class="editbtn btn btn-outline-dark">Save Changes</button></td>
						</tr>

					</tbody>
				</table>
		</div>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
		<script type ="text/javascript">
		//currently saves all feilds on click, not just own row. If a save button is clicked when there is no changes.. it will move all saved data down by one row.
		    //sets the text areas to their appropriate local data if applicable
				$(document).ready (function () {
					$("*[data-store]").each(function () {
						$(this).val(localStorage.getItem("event-" + $(this).attr("data-store")));
					});
					


					
					var buttonarray = document.getElementsByClassName("editbtn")
					for (i=0; i<buttonarray.length; i++) {
						buttonarray[i].addEventListener("click", function (itm) {
						var ds = ($("*[data-store]"))
						for (i=0; i<ds.length; i++) {
							localStorage.setItem ("event-" + i, ds[i].value
							)}
						
						}) 
					}


					


					//set var = array of buttons
					//set for loop to cycle through the buttons and assign on click
				//on "keyup" saves text input to local data. Saves as soon as input is finished
				// $("*[data-store]").on("keyup", function (itm) {
       	 		// localStorage.setItem ("item-" + $(this).attr("data-store"), $(this).val());
      			// })

				})
				

				//grabs the date from moment.js and sets it to the appropriate class
				getDate();
				function getDate(calendertime) {
					//format("LL") gets rid of the extra information from momentjs.
					var now = moment().format("LL");
					console.log(now);
					$("#currentDay").text(now)
				}


		</script>
	
	</body>
</html>
